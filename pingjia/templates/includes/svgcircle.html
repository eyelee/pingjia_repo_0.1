{% load open_tags %}
{% if not onlyone %}
<h3>价格趋势</h3>
<div id="price_time" class="chart placeholder" style="height: 280px;border:1px solid rgb(238,238,238);">
<svg height="{{svgheight}}" width="{{svgwidth}}">
<g transform="translate(10,270)">
<!--<line y2="-10" x2="-12667.049899678299" y1="-10" x1="-12667.05035591056" style="stroke:black;stroke-width:1;"></line>-->
<g>
<line y2="-10" y1="-10" x2="378" x1="20" style="stroke: rgb(217, 217, 217); stroke-width: 1;"></line>
<text text-anchor="right" dx="-.5em" dy=".3em" y="-10" x="0" style="font-size:8pt;"></text>
</g>
{% for item in price_marks %}
<g>
<line y2="-{{item.mark_price_y}}" y1="-{{item.mark_price_y}}" x2="378" x1="20" style="stroke: rgb(217, 217, 217); stroke-width: 1;"></line>
<text text-anchor="right" dx="-1.9em" dy=".3em" y="-{{item.mark_price_y}}" x="0" style="font-size:8pt;">{% show_normalprice item.mark_price %}</text>
</g>
{% endfor %}
{% for item in datepoints %}
<g>
<line y2="-270" y1="-10" x2="{{item.datepoint_x}}" x1="{{item.datepoint_x}}" style="stroke: rgb(217, 217, 217); stroke-width: 1;"></line>
<text dy=".15em" dx="-1.8em" x="{{item.datepoint_x}}" text-anchor="bottom" style="font-size:8pt;">{{item.datepoint_str}}</text>
</g>
{% endfor %}
<text style="font-size:8pt;" y="2" x="151.2"></text>
<line y2="-300" x2="20" y1="-10" x1="20" style="stroke:black;stroke-width:1;"></line>
<line y2="-10" x2="368" y1="-10" x1="20" style="stroke:black;stroke-width:1;"></line>
{% for item in data %}
<circle r="3" style="fill: rgb(68, 68, 68);" cy="-{{item.circle_y_position}}" cx="{{item.circle_x_position}}"></circle>
{% endfor %}
<line y2="-{{average_line_y2}}" y1="-{{average_line_y1}}" x2="{{average_line_x2}}" x1="{{average_line_x1}}" style="stroke: steelblue; stroke-width: 3;"></line>
</g>
</svg>
</div>
{% endif %}